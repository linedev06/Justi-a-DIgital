<html class="scroll-smooth" lang="pt-BR">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1" name="viewport"/>
  <title>
   Justiça Digital
  </title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet"/>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&family=Montserrat&family=Merriweather&display=swap" rel="stylesheet"/>
  <style>
   body {
     font-family: 'Inter', sans-serif;
     background-color: #F3F4F6; /* elegant light gray background */
     color: #334155; /* elegant gray text */
   }
   h1, h2, h3, h4 {
     font-family: 'Montserrat', sans-serif;
     font-weight: 400;
     color: #0F172A; /* navy blue primary */
   }
   /* Header */
   header {
     background-color: #0F172A; /* navy blue */
     color: #FBBF24; /* subtle gold */
     padding-top: 2rem;
     padding-bottom: 2rem;
     box-shadow: 0 4px 8px rgba(15, 23, 42, 0.3);
   }
   header h1 {
     font-weight: 400;
     font-size: 2.25rem; /* text-3xl */
     user-select: none;
   }
   header img {
     filter: drop-shadow(0 0 1px rgba(251, 191, 36, 0.8));
   }
   #btn-tts {
     background-color: #4C1D95; /* deep purple */
     color: #FBBF24; /* gold */
     width: 48px;
     height: 48px;
     font-size: 1.3rem;
     border-radius: 9999px;
     transition: background-color 0.3s ease;
     border: 2px solid transparent;
   }
   #btn-tts:hover,
   #btn-tts:focus {
     background-color: #3a146f; /* darker purple */
     outline: none;
     border-color: #FBBF24;
     color: #FBBF24;
   }
   /* Main container */
   main {
     max-width: 48rem; /* max-w-4xl */
     margin-left: auto;
     margin-right: auto;
     padding-left: 1.5rem;
     padding-right: 1.5rem;
     padding-top: 3rem;
     padding-bottom: 3rem;
     display: flex;
     flex-direction: column;
     gap: 3rem;
   }
   /* Home page buttons */
   section[aria-label="Página inicial - opções principais"] a {
     background-color: #0F172A; /* navy blue */
     color: #FBBF24; /* gold */
     border-radius: 0.75rem;
     box-shadow: 0 8px 20px rgba(15, 23, 42, 0.15);
     padding: 3rem 1.5rem;
     width: 100%;
     max-width: 20rem;
     display: flex;
     flex-direction: column;
     align-items: center;
     justify-content: center;
     font-weight: 600;
     font-size: 1.25rem;
     transition: background-color 0.3s ease, color 0.3s ease;
     user-select: none;
     border: 2px solid transparent;
   }
   section[aria-label="Página inicial - opções principais"] a:hover,
   section[aria-label="Página inicial - opções principais"] a:focus {
     background-color: #4C1D95; /* deep purple */
     color: #FBBF24;
     outline: none;
     border-color: #FBBF24;
   }
   section[aria-label="Página inicial - opções principais"] a i {
     margin-bottom: 1.25rem;
     color: #FBBF24;
     filter: drop-shadow(0 0 2px rgba(251, 191, 36, 0.7));
   }
   /* Section titles */
   h2 {
     font-weight: 400;
     font-size: 1.75rem;
     color: #0F172A;
     border-bottom-width: 4px;
     border-color: #FBBF24;
     padding-bottom: 0.5rem;
     user-select: none;
     margin-bottom: 1.5rem;
   }
   h3 {
     font-weight: 400;
     font-size: 1.25rem;
     color: #0F172A;
     user-select: none;
     margin-bottom: 1rem;
   }
   /* Cards for articles and list items */
   article {
     background-color: #FFFFFF;
     border-radius: 1rem;
     box-shadow: 0 6px 15px rgba(15, 23, 42, 0.1);
     padding: 2rem;
   }
   ul.grid {
     gap: 1.5rem;
   }
   li.bg-yellow-50 {
     background-color: #F9FAFB; /* very light gray */
     border-radius: 0.75rem;
     box-shadow: 0 4px 12px rgba(15, 23, 42, 0.05);
     padding: 1.5rem;
     display: flex;
     flex-direction: column;
     transition: box-shadow 0.3s ease;
   }
   li.bg-yellow-50:hover,
   li.bg-yellow-50:focus-within {
     box-shadow: 0 8px 20px rgba(15, 23, 42, 0.15);
   }
   li.bg-yellow-50 div.flex.items-center {
     margin-bottom: 1rem;
     color: #4C1D95; /* deep purple */
   }
   li.bg-yellow-50 i {
     margin-right: 1rem;
     color: #4C1D95;
   }
   li.bg-yellow-50 h4 {
     font-weight: 400;
     font-size: 1.125rem;
     color: #0F172A;
     margin-bottom: 0.25rem;
   }
   li.bg-yellow-50 p {
     font-size: 0.875rem;
     color: #64748B; /* gray-500 */
   }
   li.bg-yellow-50 a {
     margin-top: auto;
     font-weight: 600;
     color: #4C1D95;
     text-decoration: none;
     transition: color 0.3s ease, text-decoration 0.3s ease;
     align-self: flex-start;
   }
   li.bg-yellow-50 a:hover,
   li.bg-yellow-50 a:focus {
     color: #0F172A;
     text-decoration: underline;
     outline: none;
   }
   /* Oficinas list */
   section#oficinas ul.space-y-6 li.bg-yellow-50 {
     flex-direction: column;
     padding: 2rem;
     gap: 1rem;
   }
   @media (min-width: 640px) {
     section#oficinas ul.space-y-6 li.bg-yellow-50 {
       flex-direction: row;
       align-items: center;
       justify-content: space-between;
       gap: 0;
     }
   }
   section#oficinas ul.space-y-6 li.bg-yellow-50 h3 {
     font-weight: 400;
     font-size: 1.125rem;
     color: #0F172A;
     margin-bottom: 0.25rem;
   }
   section#oficinas ul.space-y-6 li.bg-yellow-50 p {
     color: #475569; /* gray-600 */
     font-size: 0.9rem;
     margin-bottom: 0.125rem;
   }
   section#oficinas ul.space-y-6 li.bg-yellow-50 a {
     font-weight: 600;
     color: #4C1D95;
     text-decoration: none;
     display: inline-flex;
     align-items: center;
     gap: 0.25rem;
     margin-top: 0.25rem;
     transition: color 0.3s ease;
   }
   section#oficinas ul.space-y-6 li.bg-yellow-50 a:hover,
   section#oficinas ul.space-y-6 li.bg-yellow-50 a:focus {
     color: #0F172A;
     outline: none;
     text-decoration: underline;
   }
   section#oficinas ul.space-y-6 li.bg-yellow-50 a i {
     color: #FBBF24;
   }
   /* Oficinas buttons */
   section#oficinas ul.space-y-6 li.bg-yellow-50 button {
     background-color: #4C1D95; /* deep purple */
     color: #FBBF24;
     font-weight: 700;
     border-radius: 0.75rem;
     padding: 0.75rem 2rem;
     transition: background-color 0.3s ease;
     border: 2px solid transparent;
     box-shadow: 0 4px 12px rgba(76, 29, 149, 0.3);
     cursor: pointer;
     user-select: none;
   }
   section#oficinas ul.space-y-6 li.bg-yellow-50 button:hover,
   section#oficinas ul.space-y-6 li.bg-yellow-50 button:focus {
     background-color: #3a146f; /* darker purple */
     outline: none;
     border-color: #FBBF24;
     color: #FBBF24;
   }
   /* Contato fixed bubble */
   #contato button#btn-contato {
     background-color: #0F172A;
     color: #FBBF24;
     width: 64px;
     height: 64px;
     border-radius: 9999px;
     box-shadow: 0 6px 15px rgba(15, 23, 42, 0.3);
     transition: background-color 0.3s ease, color 0.3s ease;
     border: 2px solid transparent;
     cursor: pointer;
   }
   #contato button#btn-contato:hover,
   #contato button#btn-contato:focus {
     background-color: #4C1D95;
     color: #FBBF24;
     outline: none;
     border-color: #FBBF24;
   }
   /* Contato panel - initially hidden */
   #painel-contato {
     background-color: #FFFFFF;
     border-radius: 1rem;
     box-shadow: 0 8px 24px rgba(15, 23, 42, 0.15);
     padding: 1.5rem 1.5rem 2rem 1.5rem;
     width: 14rem;
     display: none;
     flex-direction: column;
     gap: 1.25rem;
     color: #0F172A;
     position: fixed;
     bottom: 90px;
     right: 24px;
     z-index: 10001;
   }
   #painel-contato[aria-hidden="false"] {
     display: flex;
   }
   #painel-contato h3 {
     font-weight: 400;
     font-size: 1.125rem;
     margin-bottom: 0.5rem;
     user-select: none;
   }
   #painel-contato a,
   #painel-contato button {
     background-color: #0F172A;
     color: #FBBF24;
     font-weight: 700;
     border-radius: 0.75rem;
     padding: 0.75rem 1rem;
     display: flex;
     align-items: center;
     justify-content: center;
     gap: 0.75rem;
     border: 2px solid transparent;
     box-shadow: 0 4px 12px rgba(15, 23, 42, 0.3);
     cursor: pointer;
     transition: background-color 0.3s ease, border-color 0.3s ease;
     text-decoration: none;
     user-select: none;
   }
   #painel-contato a:hover,
   #painel-contato a:focus,
   #painel-contato button:hover,
   #painel-contato button:focus {
     background-color: #4C1D95;
     border-color: #FBBF24;
     outline: none;
     color: #FBBF24;
   }
   /* Modal styles */
   [role="dialog"] > div {
     border-radius: 1rem;
     box-shadow: 0 12px 30px rgba(15, 23, 42, 0.25);
     padding: 2rem;
     background-color: #FFFFFF;
     max-width: 28rem;
     width: 100%;
     color: #0F172A;
   }
   [role="dialog"] h3,
   [role="dialog"] h4 {
     font-family: 'Montserrat', sans-serif;
     font-weight: 400;
     font-size: 1.25rem;
     margin-bottom: 1.25rem;
     user-select: none;
   }
   [role="dialog"] label {
     font-weight: 700;
     color: #0F172A;
     display: block;
     margin-bottom: 0.5rem;
     font-size: 0.95rem;
   }
   [role="dialog"] input {
     width: 100%;
     border: 1.5px solid #CBD5E1;
     border-radius: 0.5rem;
     padding: 0.5rem 0.75rem;
     font-size: 1rem;
     color: #334155;
     transition: border-color 0.3s ease, box-shadow 0.3s ease;
   }
   [role="dialog"] input:focus {
     outline: none;
     border-color: #4C1D95;
     box-shadow: 0 0 0 3px rgba(76, 29, 149, 0.3);
   }
   [role="dialog"] .flex.justify-end button {
     font-weight: 700;
     border-radius: 0.75rem;
     padding: 0.75rem 1.5rem;
     cursor: pointer;
     user-select: none;
     transition: background-color 0.3s ease;
   }
   [role="dialog"] .btn-cancelar-oficina {
     background-color: #E2E8F0;
     color: #475569;
     border: none;
     box-shadow: none;
   }
   [role="dialog"] .btn-cancelar-oficina:hover,
   [role="dialog"] .btn-cancelar-oficina:focus {
     background-color: #CBD5E1;
     outline: none;
   }
   [role="dialog"] button[type="submit"] {
     background-color: #4C1D95;
     color: #FBBF24;
     border: none;
     box-shadow: 0 4px 12px rgba(76, 29, 149, 0.3);
   }
   [role="dialog"] button[type="submit"]:hover,
   [role="dialog"] button[type="submit"]:focus {
     background-color: #3a146f;
     outline: none;
   }
   /* TTS Control Panel */
   #tts-control-panel {
     background-color: #FFFFFF;
     border-radius: 1rem;
     box-shadow: 0 12px 30px rgba(15, 23, 42, 0.25);
     padding: 1rem 1.25rem;
     width: 260px;
     max-width: 90vw;
     color: #0F172A;
     font-family: 'Inter', sans-serif;
     font-weight: 600;
     font-size: 0.9rem;
     user-select: none;
     display: none;
     flex-direction: column;
     gap: 0.75rem;
     position: fixed;
     bottom: 1.5rem;
     right: 1.5rem;
     z-index: 10002;
   }
   #tts-control-panel[aria-hidden="false"] {
     display: flex;
   }
   #tts-control-panel h4 {
     font-family: 'Montserrat', sans-serif;
     font-weight: 400;
     font-size: 1.1rem;
     margin-bottom: 0.5rem;
     user-select: none;
     color: #0F172A;
   }
   #tts-control-panel .tts-controls {
     display: flex;
     justify-content: space-between;
     gap: 0.75rem;
   }
   #tts-control-panel button {
     background-color: #4C1D95;
     color: #FBBF24;
     border: none;
     border-radius: 0.75rem;
     padding: 0.5rem 0;
     flex: 1;
     cursor: pointer;
     font-size: 1.3rem;
     display: flex;
     align-items: center;
     justify-content: center;
     height: 42px;
     box-shadow: 0 4px 12px rgba(76, 29, 149, 0.3);
     transition: background-color 0.3s ease;
   }
   #tts-control-panel button:hover,
   #tts-control-panel button:focus {
     background-color: #3a146f;
     outline: none;
   }
   #tts-control-panel label {
     display: block;
     margin-top: 0.35rem;
     margin-bottom: 0.25rem;
     font-weight: 700;
     font-size: 0.9rem;
     color: #0F172A;
   }
   #tts-control-panel select,
   #tts-control-panel input[type="range"] {
     width: 100%;
     margin-bottom: 0.35rem;
     height: 32px;
     border-radius: 0.75rem;
     border: 1.5px solid #CBD5E1;
     padding: 0 0.5rem;
     font-size: 0.9rem;
     color: #334155;
     transition: border-color 0.3s ease, box-shadow 0.3s ease;
   }
   #tts-control-panel select:focus,
   #tts-control-panel input[type="range"]:focus {
     outline: none;
     border-color: #4C1D95;
     box-shadow: 0 0 0 3px rgba(76, 29, 149, 0.3);
   }
   /* Highlight style for reading text */
   .tts-highlight {
     background-color: rgba(76, 29, 149, 0.15); /* subtle purple highlight */
     border-radius: 0.25rem;
     transition: background-color 0.3s ease;
   }
   /* Click highlight effect */
   .tts-click-highlight {
     animation: clickHighlight 1.2s ease forwards;
   }
   @keyframes clickHighlight {
     0% {
       background-color: rgba(76, 29, 149, 0.3);
       box-shadow: 0 0 8px 3px rgba(76, 29, 149, 0.6);
       border-radius: 0.25rem;
     }
     100% {
       background-color: transparent;
       box-shadow: none;
     }
   }
  </style>
 </head>
 <body class="min-h-screen flex flex-col">
  <!-- Header with logo and name -->
  <header class="flex items-center justify-center relative">
   <img alt="Logotipo do Justiça Digital, letras JD estilizadas em azul escuro e amarelo claro" class="w-14 h-14 mr-4" height="56" loading="lazy" src="https://storage.googleapis.com/a1aa/image/c4245d08-bd33-48ce-a07d-fc3848a5ca98.jpg" width="56"/>
   <h1>
    Justiça Digital
   </h1>
   <!-- Accessibility Voice Button -->
   <button id="btn-tts" aria-label="Ler em voz alta" title="Ler em voz alta" type="button" class="absolute top-1/2 right-20 -translate-y-1/2 focus:ring-4 focus:ring-yellow-400" aria-pressed="false">
    <i aria-hidden="true" class="fas fa-microphone"></i>
   </button>
  </header>
  <!-- Main content -->
  <main id="main-content">
   <!-- Home page buttons -->
   <section aria-label="Página inicial - opções principais" class="flex flex-col sm:flex-row justify-center gap-10">
    <a class="" href="#videos">
     <i aria-hidden="true" class="fas fa-video fa-4x mb-5"></i>
     <span>
      Aprender
     </span>
    </a>
    <a class="" href="#oficinas">
     <i aria-hidden="true" class="fas fa-calendar-alt fa-4x mb-5"></i>
     <span>
      Oficinas
     </span>
    </a>
    <a class="" href="#contato">
     <i aria-hidden="true" class="fas fa-phone fa-4x mb-5"></i>
     <span>
      Falar conosco
     </span>
    </a>
   </section>
   <!-- Videos section -->
   <section aria-label="Área de vídeos" class="space-y-10" id="videos">
    <h2>
     Aprender - Vídeos por tema
    </h2>
    <!-- Tema: Documentos digitais -->
    <article aria-label="Tema Documentos digitais" class="space-y-6">
     <h3>
      Documentos digitais
     </h3>
     <ul class="grid grid-cols-1 sm:grid-cols-2 gap-6">
      <li>
       <div class="flex items-center mb-4">
        <i aria-hidden="true" class="fas fa-file-alt fa-3x mr-5"></i>
        <div>
         <h4>
          Como emitir a carteira de trabalho digital
         </h4>
         <p>
          Passo a passo em 3 minutos
         </p>
        </div>
       </div>
       <a aria-label="Abrir tutorial em PDF sobre como emitir a carteira de trabalho digital" href="https://placehold.co/400x500/pdf" rel="noopener noreferrer" target="_blank">
        Tutorial resumido (PDF)
       </a>
      </li>
      <li>
       <div class="flex items-center mb-4">
        <i aria-hidden="true" class="fas fa-id-card fa-3x mr-5"></i>
        <div>
         <h4>
          Como obter o RG digital
         </h4>
         <p>
          Guia rápido em 4 minutos
         </p>
        </div>
       </div>
       <a aria-label="Abrir tutorial em PDF sobre como obter o RG digital" href="https://placehold.co/400x500/pdf" rel="noopener noreferrer" target="_blank">
        Tutorial resumido (PDF)
       </a>
      </li>
      <li>
       <div class="flex items-center mb-4">
        <i aria-hidden="true" class="fas fa-passport fa-3x mr-5"></i>
        <div>
         <h4>
          Passo a passo para o passaporte digital
         </h4>
         <p>
          Em 5 minutos
         </p>
        </div>
       </div>
       <a aria-label="Abrir tutorial em PDF sobre o passaporte digital" href="https://placehold.co/400x500/pdf" rel="noopener noreferrer" target="_blank">
        Tutorial resumido (PDF)
       </a>
      </li>
      <li>
       <div class="flex items-center mb-4">
        <i aria-hidden="true" class="fas fa-envelope-open-text fa-3x mr-5"></i>
        <div>
         <h4>
          Como usar a assinatura digital
         </h4>
         <p>
          Tutorial rápido em 3 minutos
         </p>
        </div>
       </div>
       <a aria-label="Abrir tutorial em PDF sobre como usar a assinatura digital" href="https://placehold.co/400x500/pdf" rel="noopener noreferrer" target="_blank">
        Tutorial resumido (PDF)
       </a>
      </li>
     </ul>
    </article>
    <!-- Tema: Benefícios sociais -->
    <article aria-label="Tema Benefícios sociais" class="space-y-6">
     <h3>
      Benefícios sociais
     </h3>
     <ul class="grid grid-cols-1 sm:grid-cols-2 gap-6">
      <li>
       <div class="flex items-center mb-4">
        <i aria-hidden="true" class="fas fa-hand-holding-usd fa-3x mr-5"></i>
        <div>
         <h4>
          Como solicitar o auxílio emergencial
         </h4>
         <p>
          Passo a passo em 4 minutos
         </p>
        </div>
       </div>
       <a aria-label="Abrir tutorial em PDF sobre como solicitar o auxílio emergencial" href="https://placehold.co/400x500/pdf" rel="noopener noreferrer" target="_blank">
        Tutorial resumido (PDF)
       </a>
      </li>
      <li>
       <div class="flex items-center mb-4">
        <i aria-hidden="true" class="fas fa-piggy-bank fa-3x mr-5"></i>
        <div>
         <h4>
          Benefícios para famílias de baixa renda
         </h4>
         <p>
          Guia rápido em 3 minutos
         </p>
        </div>
       </div>
       <a aria-label="Abrir tutorial em PDF sobre benefícios para famílias de baixa renda" href="https://placehold.co/400x500/pdf" rel="noopener noreferrer" target="_blank">
        Tutorial resumido (PDF)
       </a>
      </li>
      <li>
       <div class="flex items-center mb-4">
        <i aria-hidden="true" class="fas fa-child fa-3x mr-5"></i>
        <div>
         <h4>
          Como receber o Bolsa Família
         </h4>
         <p>
          Em 5 minutos
         </p>
        </div>
       </div>
       <a aria-label="Abrir tutorial em PDF sobre como receber o Bolsa Família" href="https://placehold.co/400x500/pdf" rel="noopener noreferrer" target="_blank">
        Tutorial resumido (PDF)
       </a>
      </li>
      <li>
       <div class="flex items-center mb-4">
        <i aria-hidden="true" class="fas fa-hands-helping fa-3x mr-5"></i>
        <div>
         <h4>
          Auxílio para pessoas com deficiência
         </h4>
         <p>
          Tutorial rápido em 3 minutos
         </p>
        </div>
       </div>
       <a aria-label="Abrir tutorial em PDF sobre auxílio para pessoas com deficiência" href="https://placehold.co/400x500/pdf" rel="noopener noreferrer" target="_blank">
        Tutorial resumido (PDF)
       </a>
      </li>
     </ul>
    </article>
    <!-- Tema: INSS e aposentadoria -->
    <article aria-label="Tema INSS e aposentadoria" class="space-y-6">
     <h3>
      INSS e aposentadoria
     </h3>
     <ul class="grid grid-cols-1 sm:grid-cols-2 gap-6">
      <li>
       <div class="flex items-center mb-4">
        <i aria-hidden="true" class="fas fa-file-invoice-dollar fa-3x mr-5"></i>
        <div>
         <h4>
          Como consultar extrato do INSS
         </h4>
         <p>
          Passo a passo em 3 minutos
         </p>
        </div>
       </div>
       <a aria-label="Abrir tutorial em PDF sobre como consultar extrato do INSS" href="https://placehold.co/400x500/pdf" rel="noopener noreferrer" target="_blank">
        Tutorial resumido (PDF)
       </a>
      </li>
      <li>
       <div class="flex items-center mb-4">
        <i aria-hidden="true" class="fas fa-clock fa-3x mr-5"></i>
        <div>
         <h4>
          Regras para aposentadoria por idade
         </h4>
         <p>
          Guia rápido em 4 minutos
         </p>
        </div>
       </div>
       <a aria-label="Abrir tutorial em PDF sobre regras para aposentadoria por idade" href="https://placehold.co/400x500/pdf" rel="noopener noreferrer" target="_blank">
        Tutorial resumido (PDF)
       </a>
      </li>
      <li>
       <div class="flex items-center mb-4">
        <i aria-hidden="true" class="fas fa-file-contract fa-3x mr-5"></i>
        <div>
         <h4>
          Como solicitar aposentadoria por tempo de contribuição
         </h4>
         <p>
          Em 5 minutos
         </p>
        </div>
       </div>
       <a aria-label="Abrir tutorial em PDF sobre como solicitar aposentadoria por tempo de contribuição" href="https://placehold.co/400x500/pdf" rel="noopener noreferrer" target="_blank">
        Tutorial resumido (PDF)
       </a>
      </li>
      <li>
       <div class="flex items-center mb-4">
        <i aria-hidden="true" class="fas fa-file-medical fa-3x mr-5"></i>
        <div>
         <h4>
          Benefícios por incapacidade
         </h4>
         <p>
          Tutorial rápido em 3 minutos
         </p>
        </div>
       </div>
       <a aria-label="Abrir tutorial em PDF sobre benefícios por incapacidade" href="https://placehold.co/400x500/pdf" rel="noopener noreferrer" target="_blank">
        Tutorial resumido (PDF)
       </a>
      </li>
     </ul>
    </article>
    <!-- Tema: Processos eletrônicos -->
    <article aria-label="Tema Processos eletrônicos" class="space-y-6">
     <h3>
      Processos eletrônicos
     </h3>
     <ul class="grid grid-cols-1 sm:grid-cols-2 gap-6">
      <li>
       <div class="flex items-center mb-4">
        <i aria-hidden="true" class="fas fa-laptop-code fa-3x mr-5"></i>
        <div>
         <h4>
          Como acessar processos eletrônicos
         </h4>
         <p>
          Passo a passo em 3 minutos
         </p>
        </div>
       </div>
       <a aria-label="Abrir tutorial em PDF sobre como acessar processos eletrônicos" href="https://placehold.co/400x500/pdf" rel="noopener noreferrer" target="_blank">
        Tutorial resumido (PDF)
       </a>
      </li>
      <li>
       <div class="flex items-center mb-4">
        <i aria-hidden="true" class="fas fa-file-upload fa-3x mr-5"></i>
        <div>
         <h4>
          Como protocolar documentos online
         </h4>
         <p>
          Guia rápido em 4 minutos
         </p>
        </div>
       </div>
       <a aria-label="Abrir tutorial em PDF sobre como protocolar documentos online" href="https://placehold.co/400x500/pdf" rel="noopener noreferrer" target="_blank">
        Tutorial resumido (PDF)
       </a>
      </li>
      <li>
       <div class="flex items-center mb-4">
        <i aria-hidden="true" class="fas fa-comments fa-3x mr-5"></i>
        <div>
         <h4>
          Como acompanhar andamento processual
         </h4>
         <p>
          Em 5 minutos
         </p>
        </div>
       </div>
       <a aria-label="Abrir tutorial em PDF sobre como acompanhar andamento processual" href="https://placehold.co/400x500/pdf" rel="noopener noreferrer" target="_blank">
        Tutorial resumido (PDF)
       </a>
      </li>
      <li>
       <div class="flex items-center mb-4">
        <i aria-hidden="true" class="fas fa-file-signature fa-3x mr-5"></i>
        <div>
         <h4>
          Como assinar documentos eletrônicos
         </h4>
         <p>
          Tutorial rápido em 3 minutos
         </p>
        </div>
       </div>
       <a aria-label="Abrir tutorial em PDF sobre como assinar documentos eletrônicos" href="https://placehold.co/400x500/pdf" rel="noopener noreferrer" target="_blank">
        Tutorial resumido (PDF)
       </a>
      </li>
     </ul>
    </article>
   </section>
   <!-- Oficinas section -->
   <section aria-label="Área de oficinas" class="space-y-10" id="oficinas">
    <h2>
     Oficinas - Próximas atividades
    </h2>
    <ul class="space-y-8">
     <li class="bg-yellow-50 rounded-lg shadow p-8 flex flex-col sm:flex-row sm:items-center sm:justify-between">
      <div>
       <h3>
        Oficina presencial: Como usar o portal do cidadão
       </h3>
       <p>
        Data: 15/07/2024 - 14h às 16h
       </p>
       <p>
        Local: Centro Comunitário, Rua das Flores, 123
       </p>
       <a aria-label="Abrir localização no Google Maps da oficina presencial no Centro Comunitário, Rua das Flores, 123" class="text-blue-900 font-semibold hover:underline inline-flex items-center mt-2" href="https://www.google.com/maps?q=Centro+Comunit%C3%A1rio,+Rua+das+Flores,+123" rel="noopener noreferrer" target="_blank">
        <i aria-hidden="true" class="fas fa-map-marker-alt mr-2"></i>
        Ver no mapa
       </a>
      </div>
      <button aria-controls="modal-oficina-1" aria-haspopup="dialog" class="mt-6 sm:mt-0 bg-purple-900 text-yellow-400 font-semibold rounded-lg px-8 py-4 hover:bg-purple-800 hover:text-yellow-300 transition-colors focus:outline-none focus:ring-4 focus:ring-yellow-400" data-modal-target="modal-oficina-1" type="button">
       Quero participar
      </button>
     </li>
     <li class="bg-yellow-50 rounded-lg shadow p-8 flex flex-col sm:flex-row sm:items-center sm:justify-between">
      <div>
       <h3>
        Oficina online: Como emitir documentos digitais
       </h3>
       <p>
        Data: 22/07/2024 - 19h às 20h30
       </p>
       <p>
        Local: Online via Zoom
       </p>
      </div>
      <button aria-controls="modal-oficina-2" aria-haspopup="dialog" class="mt-6 sm:mt-0 bg-purple-900 text-yellow-400 font-semibold rounded-lg px-8 py-4 hover:bg-purple-800 hover:text-yellow-300 transition-colors focus:outline-none focus:ring-4 focus:ring-yellow-400" data-modal-target="modal-oficina-2" type="button">
       Quero participar
      </button>
     </li>
     <li class="bg-yellow-50 rounded-lg shadow p-8 flex flex-col sm:flex-row sm:items-center sm:justify-between">
      <div>
       <h3>
        Oficina presencial: Como acompanhar processos eletrônicos
       </h3>
       <p>
        Data: 29/07/2024 - 10h às 12h
       </p>
       <p>
        Local: Biblioteca Municipal, Av. Central, 456
       </p>
       <a aria-label="Abrir localização no Google Maps da oficina presencial na Biblioteca Municipal, Av. Central, 456" class="text-blue-900 font-semibold hover:underline inline-flex items-center mt-2" href="https://www.google.com/maps?q=Biblioteca+Municipal,+Av.+Central,+456" rel="noopener noreferrer" target="_blank">
        <i aria-hidden="true" class="fas fa-map-marker-alt mr-2"></i>
        Ver no mapa
       </a>
      </div>
      <button aria-controls="modal-oficina-3" aria-haspopup="dialog" class="mt-6 sm:mt-0 bg-purple-900 text-yellow-400 font-semibold rounded-lg px-8 py-4 hover:bg-purple-800 hover:text-yellow-300 transition-colors focus:outline-none focus:ring-4 focus:ring-yellow-400" data-modal-target="modal-oficina-3" type="button">
       Quero participar
      </button>
     </li>
     <li class="bg-yellow-50 rounded-lg shadow p-8 flex flex-col sm:flex-row sm:items-center sm:justify-between">
      <div>
       <h3>
        Oficina online: Benefícios sociais e como solicitar
       </h3>
       <p>
        Data: 05/08/2024 - 18h às 19h30
       </p>
       <p>
        Local: Online via Google Meet
       </p>
      </div>
      <button aria-controls="modal-oficina-4" aria-haspopup="dialog" class="mt-6 sm:mt-0 bg-purple-900 text-yellow-400 font-semibold rounded-lg px-8 py-4 hover:bg-purple-800 hover:text-yellow-300 transition-colors focus:outline-none focus:ring-4 focus:ring-yellow-400" data-modal-target="modal-oficina-4" type="button">
       Quero participar
      </button>
     </li>
    </ul>
   </section>
  </main>
  <!-- Contato fixo bolha -->
  <div class="fixed bottom-6 right-6 z-50" id="contato">
   <button aria-expanded="false" aria-haspopup="true" aria-label="Abrir opções de contato" class="bg-blue-900 text-yellow-300 rounded-full w-16 h-16 flex items-center justify-center shadow-lg hover:bg-yellow-300 hover:text-blue-900 transition-colors focus:outline-none focus:ring-4 focus:ring-yellow-300" id="btn-contato" type="button">
    <i aria-hidden="true" class="fas fa-comments fa-2x"></i>
   </button>
   <!-- Contato options panel -->
   <div aria-labelledby="titulo-painel-contato" aria-modal="true" aria-hidden="true" class="hidden mt-2 w-56 bg-yellow-50 rounded-lg shadow-lg p-4 flex flex-col space-y-4 origin-top-right" id="painel-contato" role="dialog" style="transform-origin: top right;">
    <h3 class="text-blue-900 font-semibold text-lg select-none" id="titulo-painel-contato">
     Fale conosco
    </h3>
    <a class="flex items-center justify-center gap-3 bg-blue-900 text-yellow-300 rounded-lg px-4 py-3 font-semibold hover:bg-yellow-300 hover:text-blue-900 transition-colors focus:outline-none focus:ring-4 focus:ring-yellow-300" href="https://wa.me/5511999999999" rel="noopener noreferrer" target="_blank" id="btn-whatsapp">
     <i aria-hidden="true" class="fab fa-whatsapp fa-lg"></i>
     WhatsApp
    </a>
    <button class="flex items-center justify-center gap-3 bg-blue-900 text-yellow-300 rounded-lg px-4 py-3 font-semibold hover:bg-yellow-300 hover:text-blue-900 transition-colors focus:outline-none focus:ring-4 focus:ring-yellow-300" id="btn-formulario-contato" type="button">
     <i aria-hidden="true" class="fas fa-envelope fa-lg"></i>
     Formulário rápido
    </button>
   </div>
  </div>
  <!-- Modal formulário oficinas -->
  <div aria-describedby="modal-oficina-1-desc" aria-labelledby="modal-oficina-1-titulo" aria-modal="true" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 hidden" id="modal-oficina-1" role="dialog" style="opacity:0; transform: scale(0.95); transition: opacity 300ms ease, transform 300ms ease;">
   <div class="bg-white rounded-lg max-w-md w-full p-6 relative shadow-lg">
    <h4 class="text-xl font-semibold text-blue-900 mb-4 select-none" id="modal-oficina-1-titulo">
     Quero participar: Oficina presencial - Como usar o portal do cidadão
    </h4>
    <form class="space-y-4" id="form-oficina-1" novalidate="">
     <label class="block text-blue-900 font-semibold" for="nome-1">
      Nome
     </label>
     <input class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-900" id="nome-1" name="nome" required="" type="text"/>
     <label class="block text-blue-900 font-semibold" for="whatsapp-1">
      WhatsApp
     </label>
     <input class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-900" id="whatsapp-1" name="whatsapp" pattern="^\+?\d{10,15}$" placeholder="+55 (11) 99999-9999" required="" type="tel"/>
     <div class="flex justify-end space-x-4 pt-4">
      <button class="btn-cancelar-oficina bg-gray-300 text-gray-700 rounded px-4 py-2 hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-500" type="button">
       Cancelar
      </button>
      <button class="bg-blue-900 text-yellow-300 rounded px-4 py-2 font-semibold hover:bg-yellow-300 hover:text-blue-900 focus:outline-none focus:ring-4 focus:ring-yellow-300" type="submit">
       Enviar
      </button>
     </div>
    </form>
   </div>
  </div>
  <div aria-describedby="modal-oficina-2-desc" aria-labelledby="modal-oficina-2-titulo" aria-modal="true" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 hidden" id="modal-oficina-2" role="dialog" style="opacity:0; transform: scale(0.95); transition: opacity 300ms ease, transform 300ms ease;">
   <div class="bg-white rounded-lg max-w-md w-full p-6 relative shadow-lg">
    <h4 class="text-xl font-semibold text-blue-900 mb-4 select-none" id="modal-oficina-2-titulo">
     Quero participar: Oficina online - Como emitir documentos digitais
    </h4>
    <form class="space-y-4" id="form-oficina-2" novalidate="">
     <label class="block text-blue-900 font-semibold" for="nome-2">
      Nome
     </label>
     <input class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-900" id="nome-2" name="nome" required="" type="text"/>
     <label class="block text-blue-900 font-semibold" for="whatsapp-2">
      WhatsApp
     </label>
     <input class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-900" id="whatsapp-2" name="whatsapp" pattern="^\+?\d{10,15}$" placeholder="+55 (11) 99999-9999" required="" type="tel"/>
     <div class="flex justify-end space-x-4 pt-4">
      <button class="btn-cancelar-oficina bg-gray-300 text-gray-700 rounded px-4 py-2 hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-500" type="button">
       Cancelar
      </button>
      <button class="bg-blue-900 text-yellow-300 rounded px-4 py-2 font-semibold hover:bg-yellow-300 hover:text-blue-900 focus:outline-none focus:ring-4 focus:ring-yellow-300" type="submit">
       Enviar
      </button>
     </div>
    </form>
   </div>
  </div>
  <div aria-describedby="modal-oficina-3-desc" aria-labelledby="modal-oficina-3-titulo" aria-modal="true" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 hidden" id="modal-oficina-3" role="dialog" style="opacity:0; transform: scale(0.95); transition: opacity 300ms ease, transform 300ms ease;">
   <div class="bg-white rounded-lg max-w-md w-full p-6 relative shadow-lg">
    <h4 class="text-xl font-semibold text-blue-900 mb-4 select-none" id="modal-oficina-3-titulo">
     Quero participar: Oficina presencial - Como acompanhar processos eletrônicos
    </h4>
    <form class="space-y-4" id="form-oficina-3" novalidate="">
     <label class="block text-blue-900 font-semibold" for="nome-3">
      Nome
     </label>
     <input class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-900" id="nome-3" name="nome" required="" type="text"/>
     <label class="block text-blue-900 font-semibold" for="whatsapp-3">
      WhatsApp
     </label>
     <input class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-900" id="whatsapp-3" name="whatsapp" pattern="^\+?\d{10,15}$" placeholder="+55 (11) 99999-9999" required="" type="tel"/>
     <div class="flex justify-end space-x-4 pt-4">
      <button class="btn-cancelar-oficina bg-gray-300 text-gray-700 rounded px-4 py-2 hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-500" type="button">
       Cancelar
      </button>
      <button class="bg-blue-900 text-yellow-300 rounded px-4 py-2 font-semibold hover:bg-yellow-300 hover:text-blue-900 focus:outline-none focus:ring-4 focus:ring-yellow-300" type="submit">
       Enviar
      </button>
     </div>
    </form>
   </div>
  </div>
  <div aria-describedby="modal-oficina-4-desc" aria-labelledby="modal-oficina-4-titulo" aria-modal="true" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 hidden" id="modal-oficina-4" role="dialog" style="opacity:0; transform: scale(0.95); transition: opacity 300ms ease, transform 300ms ease;">
   <div class="bg-white rounded-lg max-w-md w-full p-6 relative shadow-lg">
    <h4 class="text-xl font-semibold text-blue-900 mb-4 select-none" id="modal-oficina-4-titulo">
     Quero participar: Oficina online - Benefícios sociais e como solicitar
    </h4>
    <form class="space-y-4" id="form-oficina-4" novalidate="">
     <label class="block text-blue-900 font-semibold" for="nome-4">
      Nome
     </label>
     <input class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-900" id="nome-4" name="nome" required="" type="text"/>
     <label class="block text-blue-900 font-semibold" for="whatsapp-4">
      WhatsApp
     </label>
     <input class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-900" id="whatsapp-4" name="whatsapp" pattern="^\+?\d{10,15}$" placeholder="+55 (11) 99999-9999" required="" type="tel"/>
     <div class="flex justify-end space-x-4 pt-4">
      <button class="btn-cancelar-oficina bg-gray-300 text-gray-700 rounded px-4 py-2 hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-500" type="button">
       Cancelar
      </button>
      <button class="bg-blue-900 text-yellow-300 rounded px-4 py-2 font-semibold hover:bg-yellow-300 hover:text-blue-900 focus:outline-none focus:ring-4 focus:ring-yellow-300" type="submit">
       Enviar
      </button>
     </div>
    </form>
   </div>
  </div>
  <!-- Modal formulário contato rápido -->
  <div aria-labelledby="modal-contato-titulo" aria-modal="true" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 hidden" id="modal-contato" role="dialog" style="opacity:0; transform: scale(0.95); transition: opacity 300ms ease, transform 300ms ease;">
   <div class="bg-white rounded-lg max-w-md w-full p-6 relative shadow-lg">
    <h3 class="text-xl font-semibold text-blue-900 mb-4 select-none" id="modal-contato-titulo">
     Formulário rápido de contato
    </h3>
    <form class="space-y-4" id="form-contato" novalidate="">
     <label class="block text-blue-900 font-semibold" for="nome-contato">
      Nome
     </label>
     <input class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-900" id="nome-contato" name="nome" required="" type="text"/>
     <label class="block text-blue-900 font-semibold" for="whatsapp-contato">
      WhatsApp
     </label>
     <input class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-900" id="whatsapp-contato" name="whatsapp" pattern="^\+?\d{10,15}$" placeholder="+55 (11) 99999-9999" required="" type="tel"/>
     <div class="flex justify-end space-x-4 pt-4">
      <button class="bg-gray-300 text-gray-700 rounded px-4 py-2 hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-500" id="btn-cancelar-contato" type="button">
       Cancelar
      </button>
      <button class="bg-blue-900 text-yellow-300 rounded px-4 py-2 font-semibold hover:bg-yellow-300 hover:text-blue-900 focus:outline-none focus:ring-4 focus:ring-yellow-300" type="submit">
       Enviar
      </button>
     </div>
    </form>
   </div>
  </div>
  <!-- TTS Control Panel -->
  <div id="tts-control-panel" role="region" aria-label="Controles de leitura em voz alta" tabindex="-1" aria-hidden="true">
   <h4>Leitura em voz alta</h4>
   <div class="tts-controls">
    <button id="tts-play-pause" aria-label="Reproduzir ou pausar leitura" title="Reproduzir / Pausar">
     <i class="fas fa-play"></i>
    </button>
    <button id="tts-stop" aria-label="Parar leitura" title="Parar">
     <i class="fas fa-stop"></i>
    </button>
    <button id="tts-next" aria-label="Pular para próximo parágrafo" title="Próximo">
     <i class="fas fa-forward"></i>
    </button>
   </div>
   <div>
    <label for="tts-voice">Voz</label>
    <select id="tts-voice" aria-label="Seleção de voz"></select>
   </div>
   <div>
    <label for="tts-rate">Velocidade: <span id="tts-rate-value">1</span></label>
    <input type="range" id="tts-rate" min="0.5" max="2" step="0.1" value="1" aria-valuemin="0.5" aria-valuemax="2" aria-valuenow="1" />
   </div>
   <div>
    <label for="tts-pitch">Tom: <span id="tts-pitch-value">1</span></label>
    <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" aria-valuemin="0" aria-valuemax="2" aria-valuenow="1" />
   </div>
  </div>
  <script>
   // Utility function for fade and scale in/out animations on modals
   function showModal(modal) {
     if (!modal) return;
     modal.classList.remove('hidden');
     void modal.offsetWidth;
     modal.style.opacity = '1';
     modal.style.transform = 'scale(1)';
   }
   function hideModal(modal) {
     if (!modal) return;
     modal.style.opacity = '0';
     modal.style.transform = 'scale(0.95)';
     modal.addEventListener('transitionend', function handler() {
       modal.classList.add('hidden');
       modal.removeEventListener('transitionend', handler);
     });
   }

   // Utility function for slide down panel (contato panel)
   function showPanel(panel) {
     if (!panel) return;
     panel.classList.remove('hidden');
     panel.setAttribute('aria-hidden', 'false');
     panel.style.opacity = '0';
     panel.style.transform = 'translateY(-10px)';
     void panel.offsetWidth;
     panel.style.transition = 'opacity 250ms ease, transform 250ms ease';
     panel.style.opacity = '1';
     panel.style.transform = 'translateY(0)';
   }
   function hidePanel(panel) {
     if (!panel) return;
     panel.style.opacity = '0';
     panel.style.transform = 'translateY(-10px)';
     panel.addEventListener('transitionend', function handler() {
       panel.classList.add('hidden');
       panel.setAttribute('aria-hidden', 'true');
       panel.style.transition = '';
       panel.style.opacity = '';
       panel.style.transform = '';
       panel.removeEventListener('transitionend', handler);
     });
   }

   // Contato bolha toggle with animation
   const btnContato = document.getElementById('btn-contato');
   const painelContato = document.getElementById('painel-contato');
   const btnFormularioContato = document.getElementById('btn-formulario-contato');
   const modalContato = document.getElementById('modal-contato');
   const btnCancelarContato = document.getElementById('btn-cancelar-contato');

   btnContato.addEventListener('click', () => {
     const expanded = btnContato.getAttribute('aria-expanded') === 'true';
     if (expanded) {
       hidePanel(painelContato);
       btnContato.setAttribute('aria-expanded', 'false');
     } else {
       showPanel(painelContato);
       btnContato.setAttribute('aria-expanded', 'true');
     }
   });

   btnFormularioContato.addEventListener('click', () => {
     hidePanel(painelContato);
     btnContato.setAttribute('aria-expanded', 'false');
     showModal(modalContato);
     setTimeout(() => {
       modalContato.querySelector('input[name="nome"]').focus();
     }, 300);
   });

   btnCancelarContato.addEventListener('click', () => {
     hideModal(modalContato);
   });

   // Modal oficinas open/close with animation
   const oficinaButtons = document.querySelectorAll('[data-modal-target]');
   oficinaButtons.forEach(button => {
     button.addEventListener('click', () => {
       const modalId = button.getAttribute('data-modal-target');
       const modal = document.getElementById(modalId);
       showModal(modal);
       setTimeout(() => {
         modal.querySelector('input[name="nome"]').focus();
       }, 300);
     });
   });

   // Cancel buttons for oficinas
   const cancelButtons = document.querySelectorAll('.btn-cancelar-oficina');
   cancelButtons.forEach(btn => {
     btn.addEventListener('click', () => {
       const modal = btn.closest('[role="dialog"]');
       hideModal(modal);
     });
   });

   // Simple form validation and submission simulation
   const forms = document.querySelectorAll('form');
   forms.forEach(form => {
     form.addEventListener('submit', e => {
       e.preventDefault();
       const nome = form.querySelector('input[name="nome"]');
       const whatsapp = form.querySelector('input[name="whatsapp"]');
       if (!nome.value.trim()) {
         alert('Por favor, preencha o nome.');
         nome.focus();
         return;
       }
       if (!whatsapp.value.trim()) {
         alert('Por favor, preencha o WhatsApp.');
         whatsapp.focus();
         return;
       }
       const pattern = /^\+?\d{10,15}$/;
       if (!pattern.test(whatsapp.value.trim().replace(/\D/g, ''))) {
         alert('Por favor, insira um número de WhatsApp válido.');
         whatsapp.focus();
         return;
       }
       alert('Formulário enviado com sucesso! Entraremos em contato.');
       form.reset();
       const modal = form.closest('[role="dialog"]');
       if (modal) hideModal(modal);
     });
   });

   // Close modals on Escape key
   window.addEventListener('keydown', e => {
     if (e.key === 'Escape') {
       document.querySelectorAll('[role="dialog"]').forEach(modal => {
         if (!modal.classList.contains('hidden')) {
           hideModal(modal);
         }
       });
       if (!painelContato.classList.contains('hidden')) {
         hidePanel(painelContato);
         btnContato.setAttribute('aria-expanded', 'false');
       }
       if (ttsControlPanel.getAttribute('aria-hidden') === 'false') {
         stopReading();
       }
     }
   });

   // Close contato panel if click outside with animation
   document.addEventListener('click', e => {
     if (!btnContato.contains(e.target) && !painelContato.contains(e.target)) {
       if (!painelContato.classList.contains('hidden')) {
         hidePanel(painelContato);
         btnContato.setAttribute('aria-expanded', 'false');
       }
     }
   });

   // TTS Implementation
   const btnTTS = document.getElementById('btn-tts');
   const ttsControlPanel = document.getElementById('tts-control-panel');
   const ttsPlayPauseBtn = document.getElementById('tts-play-pause');
   const ttsStopBtn = document.getElementById('tts-stop');
   const ttsNextBtn = document.getElementById('tts-next');
   const ttsVoiceSelect = document.getElementById('tts-voice');
   const ttsRateInput = document.getElementById('tts-rate');
   const ttsPitchInput = document.getElementById('tts-pitch');
   const ttsRateValue = document.getElementById('tts-rate-value');
   const ttsPitchValue = document.getElementById('tts-pitch-value');
   const mainContent = document.getElementById('main-content');

   let synth = window.speechSynthesis;
   let voices = [];
   let utterance = null;
   let paragraphs = [];
   let currentParagraphIndex = 0;
   let isPaused = false;
   let isReading = false;
   let highlightedElement = null;

   function loadVoices() {
     voices = synth.getVoices();
     ttsVoiceSelect.innerHTML = '';
     voices.forEach((voice, index) => {
       const option = document.createElement('option');
       option.value = index;
       option.textContent = `${voice.name} (${voice.lang})${voice.default ? ' — Padrão' : ''}`;
       ttsVoiceSelect.appendChild(option);
     });
   }
   if (speechSynthesis.onvoiceschanged !== undefined) {
     speechSynthesis.onvoiceschanged = loadVoices;
   }
   loadVoices();

   ttsRateInput.addEventListener('input', () => {
     ttsRateValue.textContent = ttsRateInput.value;
   });
   ttsPitchInput.addEventListener('input', () => {
     ttsPitchValue.textContent = ttsPitchInput.value;
   });

   function gatherParagraphs() {
     const elements = [];
     const walker = document.createTreeWalker(mainContent, NodeFilter.SHOW_ELEMENT, {
       acceptNode: function(node) {
         const style = window.getComputedStyle(node);
         if (style.display === 'none' || style.visibility === 'hidden') return NodeFilter.FILTER_REJECT;
         if (node.childNodes.length === 0) return NodeFilter.FILTER_REJECT;
         return NodeFilter.FILTER_ACCEPT;
       }
     });
     let node = walker.nextNode();
     while (node) {
       if (node.textContent.trim().length > 0 && ['P', 'LI', 'H1', 'H2', 'H3', 'H4', 'H5', 'H6', 'DIV', 'ARTICLE', 'SECTION', 'SPAN', 'A', 'BUTTON', 'LABEL', 'TD', 'TH'].includes(node.tagName)) {
         elements.push(node);
       }
       node = walker.nextNode();
     }
     return elements.filter(el => el.textContent.trim().length > 0);
   }

   function highlightElement(el) {
     clearHighlight();
     if (el) {
       el.classList.add('tts-highlight');
       highlightedElement = el;
       el.scrollIntoView({behavior: 'smooth', block: 'center'});
     }
   }
   function clearHighlight() {
     if (highlightedElement) {
       highlightedElement.classList.remove('tts-highlight');
       highlightedElement = null;
     }
   }

   function addClickHighlight(el) {
     if (!el) return;
     el.classList.add('tts-click-highlight');
     setTimeout(() => {
       el.classList.remove('tts-click-highlight');
     }, 1200);
   }

   function speakParagraph(index) {
     if (index < 0 || index >= paragraphs.length) {
       stopReading();
       return;
     }
     currentParagraphIndex = index;
     const text = paragraphs[index].textContent.trim();
     if (!text) {
       speakParagraph(index + 1);
       return;
     }
     if (utterance) {
       utterance.onend = null;
       utterance.onerror = null;
       synth.cancel();
     }
     utterance = new SpeechSynthesisUtterance(text);
     const selectedVoiceIndex = parseInt(ttsVoiceSelect.value, 10);
     if (voices[selectedVoiceIndex]) {
       utterance.voice = voices[selectedVoiceIndex];
     }
     utterance.rate = parseFloat(ttsRateInput.value);
     utterance.pitch = parseFloat(ttsPitchInput.value);
     utterance.onstart = () => {
       isReading = true;
       isPaused = false;
       highlightElement(paragraphs[currentParagraphIndex]);
       addClickHighlight(paragraphs[currentParagraphIndex]);
       ttsPlayPauseBtn.innerHTML = '<i class="fas fa-pause"></i>';
     };
     utterance.onend = () => {
       clearHighlight();
       currentParagraphIndex++;
       if (currentParagraphIndex < paragraphs.length) {
         speakParagraph(currentParagraphIndex);
       } else {
         stopReading();
       }
     };
     utterance.onerror = (e) => {
       console.error('SpeechSynthesisUtterance error:', e);
       stopReading();
     };
     synth.speak(utterance);
   }

   function playPause() {
     if (!isReading) {
       if (paragraphs.length === 0) {
         paragraphs = gatherParagraphs();
         if (paragraphs.length === 0) {
           alert('Nenhum texto encontrado para leitura.');
           return;
         }
       }
       speakParagraph(currentParagraphIndex);
     } else if (isPaused) {
       synth.resume();
       isPaused = false;
       ttsPlayPauseBtn.innerHTML = '<i class="fas fa-pause"></i>';
     } else {
       synth.pause();
       isPaused = true;
       ttsPlayPauseBtn.innerHTML = '<i class="fas fa-play"></i>';
     }
   }
   function stopReading() {
     if (utterance) {
       utterance.onend = null;
       utterance.onerror = null;
     }
     synth.cancel();
     isReading = false;
     isPaused = false;
     currentParagraphIndex = 0;
     clearHighlight();
     ttsPlayPauseBtn.innerHTML = '<i class="fas fa-play"></i>';
     ttsControlPanel.setAttribute('aria-hidden', 'true');
     btnTTS.setAttribute('aria-pressed', 'false');
   }
   function nextParagraph() {
     if (!isReading) {
       if (paragraphs.length === 0) {
         paragraphs = gatherParagraphs();
         if (paragraphs.length === 0) {
           alert('Nenhum texto encontrado para leitura.');
           return;
         }
       }
       speakParagraph(currentParagraphIndex);
     } else {
       synth.cancel();
       currentParagraphIndex++;
       if (currentParagraphIndex >= paragraphs.length) {
         stopReading();
       } else {
         speakParagraph(currentParagraphIndex);
       }
     }
   }

   function readSelectedOrAll() {
     const selection = window.getSelection();
     if (selection && selection.toString().trim().length > 0) {
       if (utterance) {
         utterance.onend = null;
         utterance.onerror = null;
         synth.cancel();
       }
       utterance = new SpeechSynthesisUtterance(selection.toString());
       const selectedVoiceIndex = parseInt(ttsVoiceSelect.value, 10);
       if (voices[selectedVoiceIndex]) {
         utterance.voice = voices[selectedVoiceIndex];
       }
       utterance.rate = parseFloat(ttsRateInput.value);
       utterance.pitch = parseFloat(ttsPitchInput.value);
       utterance.onstart = () => {
         isReading = true;
         isPaused = false;
         ttsPlayPauseBtn.innerHTML = '<i class="fas fa-pause"></i>';
       };
       utterance.onend = () => {
         isReading = false;
         isPaused = false;
         ttsPlayPauseBtn.innerHTML = '<i class="fas fa-play"></i>';
       };
       utterance.onerror = (e) => {
         console.error('SpeechSynthesisUtterance error:', e);
         stopReading();
       };
       synth.speak(utterance);
     } else {
       paragraphs = gatherParagraphs();
       if (paragraphs.length === 0) {
         alert('Nenhum texto encontrado para leitura.');
         return;
       }
       currentParagraphIndex = 0;
       speakParagraph(currentParagraphIndex);
     }
   }

   function toggleTTSPanel() {
     const isVisible = ttsControlPanel.getAttribute('aria-hidden') === 'false';
     if (isVisible) {
       stopReading();
     } else {
       ttsControlPanel.setAttribute('aria-hidden', 'false');
       btnTTS.setAttribute('aria-pressed', 'true');
       readSelectedOrAll();
       ttsControlPanel.focus();
     }
   }

   btnTTS.addEventListener('click', () => {
     toggleTTSPanel();
   });

   ttsPlayPauseBtn.addEventListener('click', () => {
     playPause();
   });
   ttsStopBtn.addEventListener('click', () => {
     stopReading();
   });
   ttsNextBtn.addEventListener('click', () => {
     nextParagraph();
   });

   ttsControlPanel.addEventListener('keydown', e => {
     if (e.key === 'Escape') {
       stopReading();
       btnTTS.focus();
     }
   });

   mainContent.addEventListener('click', e => {
     const tag = e.target.tagName.toLowerCase();
     if (['button', 'a', 'input', 'textarea', 'select', 'label'].includes(tag)) return;
     if (ttsControlPanel.getAttribute('aria-hidden') === 'true') return;
     e.preventDefault();
     if (utterance) {
       utterance.onend = null;
       utterance.onerror = null;
       synth.cancel();
     }
     const text = e.target.textContent.trim();
     if (!text) return;
     utterance = new SpeechSynthesisUtterance(text);
     const selectedVoiceIndex = parseInt(ttsVoiceSelect.value, 10);
     if (voices[selectedVoiceIndex]) {
       utterance.voice = voices[selectedVoiceIndex];
     }
     utterance.rate = parseFloat(ttsRateInput.value);
     utterance.pitch = parseFloat(ttsPitchInput.value);
     utterance.onstart = () => {
       isReading = true;
       isPaused = false;
       ttsPlayPauseBtn.innerHTML = '<i class="fas fa-pause"></i>';
       highlightElement(e.target);
       addClickHighlight(e.target);
     };
     utterance.onend = () => {
       clearHighlight();
       isReading = false;
       isPaused = false;
       ttsPlayPauseBtn.innerHTML = '<i class="fas fa-play"></i>';
     };
     utterance.onerror = (e) => {
       console.error('SpeechSynthesisUtterance error:', e);
       stopReading();
     };
     synth.speak(utterance);
   });
  </script>
 </body>
</html>
